<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <PreferenceCategory android:title="General Settings">
        <EditTextPreference
            android:key="pref_young_threshold"
            android:title="Young Interval Threshold (Days)"
            android:summary="Words with interval less than this are considered 'Young'"
            android:defaultValue="21"
            android:inputType="number"
            android:singleLine="true" />
    </PreferenceCategory>

    <PreferenceCategory android:title="Parsing Settings">
        <ListPreference
            android:key="pref_parser_backend"
            android:title="Parsing Backend"
            android:summary="Choose the engine used for sentence parsing"
            android:entries="@array/parser_backend_entries"
            android:entryValues="@array/parser_backend_values"
            android:defaultValue="offline" />
    </PreferenceCategory>

    <PreferenceCategory android:title="Jiten API Settings">
        <EditTextPreference
            android:key="jiten_api_url"
            android:title="API Base URL"
            android:summary="The URL of the Jiten.moe API (default: https://api.jiten.moe)"
            android:defaultValue="https://api.jiten.moe" />

        <EditTextPreference
            android:key="jiten_api_key"
            android:title="API Key / Token"
            android:summary="Your Jiten auth token"
            android:defaultValue="" />
    </PreferenceCategory>

    <PreferenceCategory android:title="JPDB API Settings">
        <EditTextPreference
            android:key="jpdb_api_key"
            android:title="API Key"
            android:summary="Your JPDB API key"
            android:defaultValue="" />
    </PreferenceCategory>

    <PreferenceCategory android:title="Database Management">
        <Preference
            android:key="db_reinit"
            android:title="Re-initialize Databases"
            android:summary="Recopy dictionary files from assets (fixes missing files)" />

        <Preference
            android:key="db_clear_user"
            android:title="Clear User Progress"
            android:summary="Reset all learned/unknown word statuses locally" />
    </PreferenceCategory>

    <PreferenceCategory android:title="OCR Settings">
        <ListPreference
            android:key="TextDirection"
            android:title="Text Direction"
            android:summary="Preferred reading direction for OCR"
            android:entries="@array/text_direction_entries"
            android:entryValues="@array/text_direction_values"
            android:defaultValue="AUTO" />

        <SwitchPreferenceCompat
            android:key="InstantMode"
            android:title="Instant Mode"
            android:summary="Perform OCR immediately on selection"
            android:defaultValue="true" />
    </PreferenceCategory>

    <PreferenceCategory android:title="Capture Window Mechanics">
        <SwitchPreferenceCompat
            android:key="pref_snap_enabled"
            android:title="Magnetic Alignment (Snapping)"
            android:summary="Snap window to edges and screen center while dragging"
            android:defaultValue="true" />

        <SwitchPreferenceCompat
            android:key="pref_show_preset_bar"
            android:title="Show Preset Bar"
            android:summary="Show size presets (Line, Paragraph, etc) when touching the window"
            android:defaultValue="true" />
    </PreferenceCategory>

    <PreferenceCategory android:title="Capture Window Appearance">
        <ListPreference
            android:key="pref_border_thickness"
            android:title="Border Thickness"
            android:summary="Thickness of the capture area boundary"
            android:entries="@array/border_thickness_entries"
            android:entryValues="@array/border_thickness_values"
            android:defaultValue="2" />

        <ListPreference
            android:key="pref_border_color"
            android:title="Border Color"
            android:summary="Color of the capture area boundary"
            android:entries="@array/border_color_entries"
            android:entryValues="@array/border_color_values"
            android:defaultValue="#0064ff" />
    </PreferenceCategory>

</PreferenceScreen>
